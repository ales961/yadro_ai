# float сумматор  
Для работы c float была выбрана библиотека Berkeley HardFloat (http://www.jhauser.us/arithmetic/HardFloat.html)  
![image](https://github.com/ales961/yadro_ai/assets/76012630/fb60f683-8ed6-4914-aeeb-ed798d16a1f2)  
## 1. Сумматор (float32_N_adder.sv) 
Складываются два 32-битных числа с плавающей точкой (в соответствии со стандартом IEEE 754). Эти числа переводятся в промежуточное представление, складываются, и результат переводится обратно в число по IEEE 754.  
Результат теста tb_adder.sv:  
![image](https://github.com/ales961/yadro_ai/assets/76012630/4cb35f47-42b6-4e69-9812-b0c604251666)  
Комбинационная логика успевает отработать меньше, чем за такт (тактовая частота 100МГц).   

## 2. N сумматор (float32_N_adder.sv)
На вход модуля подается число (a) и количество ожидаемых чисел (N). По фронту тактового сигнала происходит промежуточное сложение результата и нового числа, на спаде - увеличение счетчика и управляющая логика. При достижении количества сложенных чисел значения N выдается конечный результат и выставляется сигнал valid.  
Результат теста tb_N_adder.sv при N = 10, a1-a10 = 1.0:
![image](https://github.com/ales961/yadro_ai/assets/76012630/c4d245c7-460a-44fb-a589-36b83de827c6)
Результат получаем за 10 тактов (N).

Результат теста tb_N_adder.sv при N = 65535, a1-a65535 = 50000.9:
![image](https://github.com/ales961/yadro_ai/assets/76012630/ba50de09-2cb6-47b1-a900-4aab5850a35a)
Результат получаем за 65535 тактов (N). Сумма ряда равна 4F43420D (3.2758858e9); 50000.9 * 65535 = 3276808981.5. Погрешность может быть при переходе между форматами.

